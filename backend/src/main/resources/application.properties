# ────────────────────────────────────────────────────────────────
# JWT Configuration - مهم جدًا لإصلاح 401
# ────────────────────────────────────────────────────────────────
# استخدم مفتاح قوي جدًا (64+ حرف) وما تغيروش بعد ما تولد توكنات
jwt.secret=super-very-long-random-secret-key-2026-very-secure-and-long-enough-please-dont-change-again-abcdefghijklmnopqrstuvwxyz1234567890

# صلاحية التوكن: 7 أيام (604800000 ms) عشان الاختبار، بعد كده رجعه لـ 86400000 (24 ساعة)
jwt.expiration=604800000

# ────────────────────────────────────────────────────────────────
# MongoDB Connection
# ────────────────────────────────────────────────────────────────

# ────────────────────────────────────────────────────────────────
# Face Recognition - Folder for Python script
# ────────────────────────────────────────────────────────────────
face.register.folder=D:/1 ssooo improtant/iotprogect/register_faces

# ────────────────────────────────────────────────────────────────
# Multipart file upload limits (for face images)
# ────────────────────────────────────────────────────────────────
spring.servlet.multipart.enabled=true
spring.servlet.multipart.max-file-size=15MB
spring.servlet.multipart.max-request-size=15MB
spring.servlet.multipart.file-size-threshold=2MB

# ────────────────────────────────────────────────────────────────
# Server settings
# ────────────────────────────────────────────────────────────────
server.port=8080
server.servlet.context-path=/

# ────────────────────────────────────────────────────────────────
# Logging levels - مفصل جدًا للتشخيص (هتلاقي سبب 401 في ثواني)
# ────────────────────────────────────────────────────────────────
logging.level.root=INFO
logging.level.org.springframework=INFO
logging.level.org.springframework.security=DEBUG
logging.level.org.springframework.security.authentication=DEBUG
logging.level.org.springframework.security.web=DEBUG
logging.level.org.springframework.web=INFO
logging.level.org.springframework.data.mongodb=DEBUG
logging.level.com.example.backend=DEBUG
logging.level.com.example.backend.security=TRACE
logging.level.com.example.backend.controller=DEBUG
logging.level.com.example.backend.service=DEBUG

# ────────────────────────────────────────────────────────────────
# CORS - أكثر أمانًا (محدد للـ frontend فقط)
# ────────────────────────────────────────────────────────────────
spring.web.cors.allowed-origins=http://localhost:3000,http://127.0.0.1:3000
spring.web.cors.allowed-methods=GET,POST,PUT,DELETE,OPTIONS,PATCH
spring.web.cors.allowed-headers=*
spring.web.cors.exposed-headers=Authorization,Content-Disposition
spring.web.cors.allow-credentials=true
spring.web.cors.max-age=3600

# ────────────────────────────────────────────────────────────────
# Server compression (اختياري - يسرّع الردود)
# ────────────────────────────────────────────────────────────────
server.compression.enabled=true
server.compression.mime-types=application/json,application/xml,text/html,text/xml,text/plain,text/css,application/javascript

server.compression.min-response-size=2048
